---
import CardContent from './CardContent/CardContent.astro';
import { LangLink } from '..';

interface Props {
	id?: string,
    src: ImageMetadata,
    alt: string,
	href: string;
	title: string;
	description: string;
}

const { src, alt, href, title, description, id = '' } = Astro.props;
const beforeElClasses = 'before:w-[calc(100%_+_4px)] before:h-[calc(100%_+_4px)] before:absolute before:-top-0.5 before:-left-0.5 before:bg-gradient-to-br before:from-clr-primary before:to-clr-secondary before:rounded-3xl';


const transitionProps: any = {}
if (id) {
	transitionProps.link = {
		transitionName: id
	};
	transitionProps.image = {
		transitionName: `${id}-image`,
	}
	transitionProps.title = {
		transitionName: `${id}-title`
	}
	transitionProps.description = {
		transitionName: `${id}-description`
	}
}
const containerClasses = 'grayscale-50 hover:grayscale-0 transition-all duration-500 group rounded-xl p-8 flex flex-col gap-8 items-center border-contrast shadow-contrast shadow-sm border-2 cursor-pointer';

---

<LangLink
	href={href}
	className={`${id} ${containerClasses}`}
	transitionName={id}
>
	<CardContent
		src={src}
		alt={alt}
		id={id}
		title={title}
		description={description}
	/>
</LangLink>
